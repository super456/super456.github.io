---
title: ç¬¬ 49 æœ¬ã€ŠReact Hooks å¼€å‘å®æˆ˜ã€‹
cover: /read-book/2024/react-hooks.jpeg
tags:
 - 2024
 - ä¸“ä¸šæŠ€æœ¯
categories:
 - æœèŠ±å¤•æ‹¾
---
# ç¬¬ 49 æœ¬ã€ŠReact Hooks å¼€å‘å®æˆ˜ã€‹
## ç®€ä»‹
è¿™æ˜¯ä¸€æœ¬å®Œå…¨ä»ä¼ä¸šå®è·µè§’åº¦å‡ºå‘ï¼Œä¸ºåˆå­¦è€…å’Œè¿›é˜¶è€…æ’°å†™çš„ React Hooks å¼€å‘æŒ‡å¯¼æ‰‹å†Œã€‚æ¥è‡ªå¤šå®¶å¤§å‚çš„ä¸šç•Œä¸“å®¶ç»™äºˆé«˜åº¦è¯„ä»·ï¼Œä»–ä»¬å‡è®¤ä¸ºè¿™æœ¬ä¹¦æ˜¯å…¥é—¨å¹¶ç²¾é€š React Hooks çš„å¥½ä¹¦

æœ¬ä¹¦ç»“åˆä¸€çº¿é¡¹ç›®ä»£ç å¯¹ React Hooks æ ¸å¿ƒ API åŠç›¸å…³æŠ€æœ¯ç‚¹è¿›è¡Œäº†æ·±å…¥è§£è¯»ï¼Œå¹¶é…æœ‰å¤§é‡å›¾ä¾‹ï¼Œè®©è¯»è€…çš„å­¦ä¹ è¿‡ç¨‹æ›´è½»æ¾ï¼Œæ›´æœ‰è¶£ã€‚ä¸ºäº†å¸®åŠ©è¯»è€…è§£å†³å®é™…è½åœ°é—®é¢˜ï¼Œä¹¦ä¸­ä¸ä»…é€šè¿‡çœŸå®æ¡ˆä¾‹å°½é‡è¿˜åŸå®é™…å¼€å‘åœºæ™¯ï¼Œè¿˜ä¸“é—¨æ€»ç»“äº†å®é™…å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸å‡ºç°çš„å…¸å‹é—®é¢˜ã€‚ä¸ºäº†å¸®åŠ©è¯»è€…æŠŠæ‰€å­¦çŸ¥è¯†è½»æ¾è¿ç”¨åˆ°å®é™…å·¥ä½œä¸­ï¼Œæœ¬ä¹¦è¿˜ç»™å‡ºä¸€ä¸ªå®Œæ•´çš„ä¼ä¸šçº§å¼€å‘é¡¹ç›®ï¼Œä» 0 åˆ° 1 å®Œæ•´å±•ç°é¡¹ç›®å¼€å‘è¿‡ç¨‹

æœ¬ä¹¦å…± 7 ç« ï¼š

ç¬¬ 1 ç« å¯¹å½“å‰å‰ç«¯å¸‚åœºè¿›è¡Œç®€å•åˆ†æï¼Œé¦–å…ˆå¯¹ React Hooks åœ¨å½“å‰å‰ç«¯å¸‚åœºä¸­çš„å®šä½åŠå…¶ä¸å…¶ä»–ç›¸å…³æŠ€æœ¯çš„å¼‚åŒè¿›è¡Œæ·±å…¥è§£è¯»ï¼Œç„¶åå¯¹ React Hooks æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä½“ç³»è¿›è¡Œå…¨é¢è®²è§£

ç¬¬ 2 ç« é‡ç‚¹ä»‹ç»å¼€å‘æŠ€æœ¯é€‰å‹æ–¹æ³•ã€åŸºç¡€å·¥å…·å®‰è£…æ–¹æ³•åŠåŸºç¡€é¡¹ç›®æ­å»ºæµç¨‹ï¼Œå¸®åŠ©è¯»è€…ä» 0 åˆ° 1 æ­å»ºçœŸå®çš„å¼€å‘ç¯å¢ƒ

ç¬¬ 3 ç« åŸºäºçœŸå®çš„åœºæ™¯æ¡ˆä¾‹ï¼Œå¯¹ React Hooks æ ¸å¿ƒ API è¿›è¡Œè¯¦ç»†è®²è§£ï¼Œå¹¶ä¸”å¯¹APIä½¿ç”¨ä¼˜åŒ–è¿›è¡Œäº†å…·ä½“è¯´æ˜ã€‚è¿™æ˜¯æœ¬ä¹¦çš„é‡ç‚¹ï¼Œä¹Ÿæ˜¯è¯»è€…çœŸæ­£æŠŠ React Hooks ç”¨å¥½çš„åŸºç¡€

ç¬¬ 4 ç« ç€é‡å¯¹ React Redux åœ¨ React Hooks ä¸­çš„ä½¿ç”¨ä»¥åŠç›¸å…³æ³¨æ„äº‹é¡¹è¿›è¡Œè¯¦ç»†è¯´æ˜ï¼Œå¹¶é‡ç‚¹ä»‹ç»äº†ä¼ä¸šå¼€å‘è¿‡ç¨‹ä¸­å¸¸ç”¨çš„é…å¥—æ’ä»¶ï¼Œè¿™æ˜¯æå‡å¼€å‘æ•ˆç‡çš„åŸºç¡€

ç¬¬ 5 ç« é‡ç‚¹ä»‹ç»äº†å®é™… React Hooks å¼€å‘åœºæ™¯ä¸­ç»å¸¸é‡åˆ°çš„å…¸å‹é—®é¢˜åŠå…¶è§£å†³æ–¹æ³•å’Œç›¸å…³æ³¨æ„äº‹é¡¹

ç¬¬ 6 ç« åŸºäºä½œè€…çš„å¤šå¹´å®è·µç»éªŒï¼Œåˆ†äº«äº† 10 ä¸ªå¯ä»¥æå‡å¼€å‘æ•ˆç‡çš„ä¼ä¸šçº§å¼€å‘åº“ï¼Œè¿™é‡Œä¸ä»…å¯¹å„ä¸ªåº“çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•è¿›è¡Œäº†ä»‹ç»ï¼Œè¿˜å¯¹å…¶é«˜çº§ä½¿ç”¨æŠ€å·§ã€å·¥ä½œåŸç†è¿›è¡Œäº†åˆ†æ

ç¬¬ 7 ç« åˆ†äº«äº†ä¸€ä¸ªçœŸå®ç”µå•†è®¢å•ç³»ç»Ÿå¼€å‘å’Œä¸Šçº¿çš„å®Œæ•´æµç¨‹ã€‚ä»é¡¹ç›®åˆ›å»ºï¼Œåˆ° eslintrcã€Webpack ç­‰åŸºç¡€å·¥å…·çš„é…ç½®ï¼Œå†åˆ°å¯¹å¸¸ç”¨ä¸šåŠ¡ç»„ä»¶çš„å°è£…ï¼ˆHTTPã€èœå•ã€æƒé™ã€è·¯ç”±é…ç½®ï¼‰ï¼Œæœ¬ç« éƒ½è¿›è¡Œäº†è¯¦ç»†ä»‹ç»ã€‚æ­¤å¤–ï¼Œæœ¬ç« ä½¿ç”¨æ–°çš„ TypeScript è¯­è¨€è¿›è¡Œç¤ºä¾‹è¯´æ˜ä¸åˆ†æ

## é˜…è¯»ç¬”è®°
ã€ŠReact Hookså¼€å‘å®æˆ˜ã€‹
é¬¼å“¥
48ä¸ªç¬”è®°

â—†  ç‚¹è¯„

2024/5/2 è®¤ä¸ºå¥½çœ‹
å¯¹æ–°æ‰‹å…¥é—¨ï¼Œå¯¹è¿›é˜¶è€…å‹å¥½çš„ React Hooks ä¹¦ç±ï¼Œå¯ä»¥å­¦ä¹ åˆ°å¾ˆå¤šä¸œè¥¿ï¼Œä½†æ›´é€‚åˆå…¥é—¨è€…ã€‚æœ€å¥½è¦å…ˆé˜…è¯»å®˜æ–¹æ–‡æ¡£å†æ¥çœ‹çš„è¯ï¼Œä¼šæœ‰æ›´æ·±å…¥çš„ç†è§£å­¦ä¹ å§

å¯¹äºä¸€ä¸ªæ–°äººæ¥è¯´ï¼Œç›´æ¥å­¦ä¹ æœ€æ–°çš„ React Hooks ä¼šæœ‰ç‚¹éš¾åº¦çš„ï¼Œä¸»è¦ä¹Ÿæ˜¯åœ¨é¡¹ç›®åº”ç”¨ä¸Šï¼Œå› ä¸ºé¡¹ç›®éƒ½æ˜¯åŸºäº React Hooks å¼€å‘çš„ï¼Œæ‰€ä»¥éœ€è¦å…ˆäº†è§£ React Hooks çš„æ ¸å¿ƒåŸç†ã€‚è™½ç„¶å®˜æ–¹æ–‡æ¡£çš„è®²è§£å¾ˆæ¸…æ™°ï¼Œè€Œä¸”ä»£ç ç¤ºä¾‹å¾ˆè¯¦ç»†ï¼Œå¯ä»¥å¿«é€Ÿç†è§£ï¼Œä½†è¿˜æ˜¯éœ€è¦å¤šé˜…è¯»å‡ éå®˜æ–¹æ–‡æ¡£ï¼Œæ‰èƒ½æ›´å¥½çš„ç†è§£ã€‚è¿™ä¸ªæ—¶å€™æœ‰ä¸ªæ›´åå‘å®æˆ˜é¡¹ç›®è®²è§£çš„ä¹¦ç±ï¼Œå¯ä»¥è¾…åŠ©å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ç†è§£ React Hooks çš„åŸç†å’Œåº”ç”¨

æœ¬ä¹¦ä»åŸºç¡€ã€ç¯å¢ƒæ­å»ºã€React Hooks æ ¸å¿ƒ APIã€React Redux çš„æ ¸å¿ƒåŸç†ã€ä¼ä¸šçº§ Hooks åº“ã€é¡¹ç›®æ¶æ„å®æˆ˜ç­‰ï¼Œç»“åˆå¼€å‘æ¡ˆä¾‹è¯¦ç»†è®²è§£å¼€å‘å­¦ä¹ çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ï¼Œè®©æˆ‘å¯¹ React Hooks æœ‰æ›´æ¸…æ™°çš„è®¤è¯†ï¼Œæ›´è½»æ¾çš„æŒæ¡ React Hooks çš„ä½¿ç”¨ã€‚æœ‰ç‚¹é—æ†¾çš„æ˜¯ï¼Œæˆ‘è§‰å¾—æ¡ˆä¾‹è¿˜æ˜¯ä¸å¤Ÿæ·±å…¥å§ï¼Œæºç è®²çš„ä¹Ÿæ¯”è¾ƒå°‘ï¼Œæ€»ä½“æ¥è¯´çš„å†…å®¹è¿˜æ˜¯æŒºè¯¦ç»†å’Œä¸é”™çš„ï¼Œå¾ˆé€‚åˆå…¥é—¨è€…å­¦ä¹ 

â—†  å‰è¨€

2024/4/9 å‘è¡¨æƒ³æ³•
æ“…é•¿å­¦ä¹ çš„äººğŸ‘ğŸ»
>> ç¬”è€…è™½ç„¶ç»å†è¿‡å¾ˆå¤šå®æˆ˜é¡¹ç›®ï¼Œä½†æ˜¯ä»æ¥æ²¡æœ‰æ”¾å¼ƒå¯¹å¥½ä»£ç çš„æ”¶é›†ï¼Œå¹¶ç»å¸¸â€œå·å·â€é˜…è¯»åŒäº‹çš„ä»£ç å’Œé¡¹ç›®æ¶æ„ï¼Œâ€œå·å·â€æŠŠåŒäº‹çš„é¡¹ç›®ä»£ç ã€é¡¹ç›®æ¶æ„å’Œè‡ªå·±çš„åšå¯¹æ¯”ï¼Œç„¶åå–å…¶ç²¾åï¼Œå»å…¶ç³Ÿç²•ã€‚

>> ç¬”è€…è™½ç„¶ç»å†è¿‡å¾ˆå¤šå®æˆ˜é¡¹ç›®ï¼Œä½†æ˜¯ä»æ¥æ²¡æœ‰æ”¾å¼ƒå¯¹å¥½ä»£ç çš„æ”¶é›†ï¼Œå¹¶ç»å¸¸â€œå·å·â€é˜…è¯»åŒäº‹çš„ä»£ç å’Œé¡¹ç›®æ¶æ„ï¼Œâ€œå·å·â€æŠŠåŒäº‹çš„é¡¹ç›®ä»£ç ã€é¡¹ç›®æ¶æ„å’Œè‡ªå·±çš„åšå¯¹æ¯”ï¼Œç„¶åå–å…¶ç²¾åï¼Œå»å…¶ç³Ÿç²•ã€‚

â—†  ç¬¬1ç«  åˆè¯†React Hooks

>> Reactæ˜¯Facebookåœ¨2013å¹´æ¨å‡ºçš„ä¸€ä¸ªç”¨æ¥æ„å»ºç”¨æˆ·ç•Œé¢çš„å¼€æºJavaScriptåº“

>> æœ¬ç« å°†é‡ç‚¹è§£ç­”è¿™å‡ ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ˜¯React Hooksï¼ŸReact Hooksæœ‰å“ªäº›ä¼˜åŠ¿ï¼ŸReact Hooksåˆ°åº•è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ

>> é«˜é˜¶ç»„ä»¶(HOC)

>> ç®€åŒ–ä¸šåŠ¡ã€‚å……åˆ†åˆ©ç”¨ç»„ä»¶åŒ–çš„æ€æƒ³æŠŠä¸šåŠ¡æ‹†åˆ†æˆå¤šä¸ªç»„ä»¶ï¼Œé‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹é£æ ¼ã€å‡½æ•°å¼ç»„ä»¶ï¼ŒçŠ¶æ€ä¿å­˜åœ¨è¿è¡Œç¯å¢ƒä¸­ï¼Œæ¯ä¸ªåŠŸèƒ½éƒ½åŒ…è£¹åœ¨å‡½æ•°ä¸­ï¼Œæ•´ä½“é£æ ¼æ›´æ¸…çˆ½ã€æ›´ä¼˜é›…

>> å‡½æ•°å¼æ¸²æŸ“å…·æœ‰ä»¥ä¸‹æ˜¾è‘—ç‰¹ç‚¹ã€‚
â–¡å½“ç»™å®šç›¸åŒè¾“å…¥ï¼ˆå‡½æ•°çš„å‚æ•°ï¼‰çš„æ—¶å€™ï¼Œæ€»æ˜¯æœ‰ç›¸åŒçš„è¾“å‡ºï¼ˆè¿”å›å€¼ï¼‰ã€‚
â–¡æ²¡æœ‰å‰¯ä½œç”¨ã€‚
â–¡ä¸ä¾èµ–äºå‡½æ•°å¤–éƒ¨çŠ¶æ€ã€‚
â–¡å‘Šåˆ«ç¹æ‚çš„thiså’Œéš¾ä»¥è®°å¿†çš„ç”Ÿå‘½å‘¨æœŸã€‚
â–¡æ”¯æŒåŒ…è£…è‡ªå·±çš„Hooksï¼ˆè‡ªå®šä¹‰Hooksï¼‰ï¼Œæ˜¯çº¯å‘½ä»¤å¼çš„APIã€‚
â–¡å¯æ›´å¥½åœ°å®ŒæˆçŠ¶æ€ä¹‹é—´çš„å…±äº«ï¼Œè§£å†³äº†åŸæ¥Classç»„ä»¶å†…éƒ¨å°è£…çš„é—®é¢˜ï¼Œä»¥åŠé«˜é˜¶ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶åµŒå¥—è¿‡æ·±çš„é—®é¢˜ã€‚æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€åœ¨è¯¥ç»„ä»¶å†…å¯ä»¥å…±ç”¨ã€‚

â—†  ç¬¬3ç«  æ ¸å¿ƒAPIåŸç†è§£è¯»ä¸å®è·µ

>> æ³¨æ„äº‹é¡¹ä¸€ï¼šä¸Classç»„ä»¶ä¸­çš„setStateæ–¹æ³•ä¸åŒï¼ŒuseStateä¸ä¼šè‡ªåŠ¨åˆå¹¶æ›´æ–°å¯¹è±¡ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ï¼ˆæˆ–è€…Object.assignï¼‰æ¥è¾¾åˆ°åˆå¹¶æ›´æ–°å¯¹è±¡çš„æ•ˆæœã€‚

>> æ³¨æ„äº‹é¡¹äºŒï¼šuseStateæ›´æ–°å€¼åç»å¸¸ä¼šå‡ºç°å€¼æ›´æ–°ä¸åŠæ—¶çš„bugã€‚

>> (4)ä½¿ç”¨å‡½æ•°æ”¹å˜æ•°æ®æ—¶ï¼Œè‹¥æ•°æ®å’Œä¹‹å‰çš„æ•°æ®å®Œå…¨ç›¸ç­‰ï¼ˆä½¿ç”¨Object.isï¼‰ï¼Œåˆ™ä¸ä¼šé‡æ–°æ¸²æŸ“ã€‚ç”±äºObject.isæ˜¯æµ…æ¯”è¾ƒï¼Œæ‰€ä»¥å½“çŠ¶æ€æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¸€å®šè¦å°å¿ƒæ“ä½œ

>> 5)ä½¿ç”¨å‡½æ•°æ”¹å˜æ•°æ®æ—¶ï¼Œä¼ å…¥çš„å€¼ä¸ä¼šå’ŒåŸæ¥çš„æ•°æ®åˆå¹¶è€Œæ˜¯ç›´æ¥å°†å…¶æ›¿æ¢ï¼ˆä¸setStateå®Œå…¨ä¸ä¸€æ ·ï¼‰ï¼Œæ‰€ä»¥åœ¨ä¿®æ”¹å¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦å…ˆå°†ä¹‹å‰çš„å¯¹è±¡ä¿å­˜ä¸‹æ¥

>> (6)è¦å®ç°å¼ºåˆ¶åˆ·æ–°ç»„ä»¶çš„æƒ…å†µï¼šå¦‚æœæ˜¯ç±»ç»„ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨forceUpdateå¼ºåˆ¶åˆ·æ–°ï¼›å¦‚æœæ˜¯å‡½æ•°ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨useStateæ¥å®ç°ï¼Œåªéœ€è¦é‡æ–°ç»™å½“å‰stateèµ‹ä¸€æ¬¡å€¼å³å¯ã€‚ï¼ˆå› ä¸ºæ¯æ¬¡ä¼ å…¥çš„å¯¹è±¡çš„åœ°å€ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä¸€å®šä¼šä½¿å¾—ç»„ä»¶åˆ·æ–°ã€‚ï¼‰

>> useRefæ˜¯æ¥è§£å†³å¦‚ä¸‹é—®é¢˜çš„ï¼šâ–¡è·å–å­ç»„ä»¶æˆ–è€…DOMèŠ‚ç‚¹çš„å®ä¾‹å¯¹è±¡ï¼›â–¡å­˜å‚¨æ¸²æŸ“å‘¨æœŸä¹‹é—´çš„å…±äº«æ•°æ®ã€‚

>> æ³¨æ„äº‹é¡¹ä¸€ï¼šç»„ä»¶çš„æ¯æ¬¡æ¸²æŸ“ï¼ŒuseRefè¿”å›å€¼éƒ½ä¸å˜

>> æ³¨æ„äº‹é¡¹äºŒï¼šref.currentå‘ç”Ÿå˜åŒ–å¹¶ä¸ä¼šé€ æˆé‡æ–°æ¸²æŸ“ã€‚

>> æ³¨æ„äº‹é¡¹ä¸‰ï¼šä¸å¯ä»¥åœ¨renderé‡Œæ›´æ–°ref.currentå€¼

>> æ³¨æ„äº‹é¡¹å››ï¼šå¦‚æœç»™ä¸€ä¸ªç»„ä»¶è®¾å®šäº†refå±æ€§ï¼Œä½†æ˜¯å¯¹åº”çš„å€¼å´ä¸æ˜¯ç”±useRefåˆ›å»ºçš„ï¼Œé‚£ä¹ˆå®é™…è¿è¡Œä¸­ä¼šæ”¶åˆ°Reactçš„æŠ¥é”™ï¼Œæ— æ³•æ­£å¸¸æ¸²æŸ“ã€‚

>> æ³¨æ„äº‹é¡¹äº”ï¼šref.currentä¸å¯ä½œä¸ºå…¶ä»–Hooksçš„ä¾èµ–é¡¹ï¼Œå› ä¸ºrefæ˜¯å¯å˜çš„ï¼Œä¸ä¼šä½¿ç•Œé¢å†æ¬¡æ¸²æŸ“ã€‚

>> ref.currentçš„å€¼å‘ç”Ÿå˜æ›´å¹¶ä¸ä¼šé€ æˆé‡æ–°æ¸²æŸ“ï¼ŒReactä¹Ÿä¸ä¼šè·Ÿè¸ªref.currentçš„å˜åŒ–

>> React.forwardRefä¼šåˆ›å»ºä¸€ä¸ªReactç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶èƒ½å¤Ÿå°†å…¶æ¥æ”¶çš„refå±æ€§è½¬å‘åˆ°è‡ªå·±çš„ç»„ä»¶æ ‘

>> æ³¨æ„äº‹é¡¹äºŒï¼šforwardRefå¯ä»¥åº”ç”¨åˆ°é«˜é˜¶ç»„ä»¶ä¸­

>> æˆ‘ä»¬åº”è¯¥ä¸¥æ ¼æ§åˆ¶refçš„æš´éœ²é¢—ç²’åº¦ï¼Œæ§åˆ¶å®ƒèƒ½è°ƒç”¨åˆ°çš„æ–¹æ³•ï¼Œåªæš´éœ²å¤–éƒ¨è¦ä½¿ç”¨çš„ä¸»è¦åŠŸèƒ½å‡½æ•°ï¼Œå…¶ä»–åŠŸèƒ½å‡½æ•°ä¸æš´éœ²ã€‚Reactå®˜æ–¹æä¾›useImperativeHandleï¼Œç›®çš„å°±æ˜¯è®©ä½ åœ¨ä½¿ç”¨refæ—¶å¯ä»¥è‡ªå®šä¹‰æš´éœ²ç»™å¤–éƒ¨ç»„ä»¶å“ªäº›åŠŸèƒ½å‡½æ•°æˆ–è€…å±æ€§ã€‚

>> useEffectå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„Reactä¸­çš„å‰¯ä½œç”¨ã€‚æ‰§è¡ŒsetStateä¼šäº§ç”Ÿæ–°çš„æ›´æ–°ï¼Œè€Œæ¯æ¬¡æ›´æ–°éƒ½ä¼šè§¦å‘useEffectçš„ä¾èµ–ç›‘å¬ã€‚useEffectæ¥æ”¶ä¸€ä¸ªæ–¹æ³•ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“å®Œæˆä¹‹åè¢«è°ƒç”¨ã€‚å®ƒè¿˜ä¼šæ¥æ”¶ä¸€ä¸ªæ•°ç»„ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™ä¸ªæ•°ç»„é‡Œçš„æ¯ä¸€é¡¹å†…å®¹éƒ½ä¼šè¢«ç”¨æ¥è¿›è¡Œæ¸²æŸ“å‰åçš„å¯¹æ¯”ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œåˆ™ä¸ä¼šè°ƒç”¨è¯¥å‰¯ä½œç”¨ã€‚

>> æ³¨æ„äº‹é¡¹ä¸€ï¼šuseEffectçš„ç¬¬äºŒä¸ªå‚æ•°ä¸èƒ½ä¸ºå¼•ç”¨ç±»å‹ï¼Œå› ä¸ºå¼•ç”¨ç±»å‹æ¯”è¾ƒä¸å‡ºæ¥æ•°æ®çš„å˜åŒ–ï¼Œä¼šé€ æˆæ­»å¾ªç¯ã€‚

>> é¡µé¢å‡ºç°äº†æ­»å¾ªç¯ï¼Œè¿™æ˜¯å› ä¸ºåœ¨JavaScriptä¸­{}==={}çš„ç»“æœæ˜¯falseï¼Œ{a:1}==={a:1}ä¹Ÿæ˜¯è¿™æ ·ï¼Œè¿™ä¼šé€ æˆReactä»¥ä¸ºä¸¤ä¸ªå€¼ä¸åŒï¼Œå°±ä¼šä¸€ç›´æ¸²æŸ“ã€‚å…¶å®åœ¨æ­£å¸¸çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸æ¨èåœ¨useEffectä¸­æ›´æ”¹ç›‘å¬å˜é‡çš„å€¼ï¼Œå³ä½¿å®ƒä¸æ˜¯å¼•ç”¨ç±»å‹ã€‚

>> æ³¨æ„äº‹é¡¹äºŒï¼šå¤šä¸ªå‰¯ä½œç”¨èƒ½å†™åœ¨ä¸€èµ·ï¼Œéœ€è¦å¤šä¸ªuseEffect

>> æ³¨æ„äº‹é¡¹å››ï¼šuseEffectçš„æ¸…é™¤å‡½æ•°åœ¨æ¯æ¬¡é‡æ–°æ¸²æŸ“æ—¶éƒ½ä¼šæ‰§è¡Œï¼Œè€Œä¸æ˜¯åªåœ¨å¸è½½ç»„ä»¶çš„æ—¶å€™æ‰§è¡Œ

>> useLayoutEffectã€‚ä¸‹é¢å…ˆçœ‹çœ‹å®ƒä»¬çš„ä¸åŒä¹‹å¤„ã€‚
â–¡useEffectæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œè€ŒuseLayoutEffectæ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚
â–¡useEffectçš„æ‰§è¡Œæ—¶æœºæ˜¯æµè§ˆå™¨å®Œæˆæ¸²æŸ“ä¹‹åï¼Œè€ŒuseLayoutEffectçš„æ‰§è¡Œæ—¶æœºæ˜¯æµè§ˆå™¨å°†å†…å®¹æ¸²æŸ“åˆ°ç•Œé¢ä¹‹å‰ã€‚

>> useEffectä¸­çš„æ“ä½œéœ€è¦å¤„ç†DOMï¼Œå¹¶ä¸”å¤„ç†DOMçš„è¿‡ç¨‹ä¸­ä¼šæ”¹å˜é¡µé¢çš„æ ·å¼æ—¶ï¼Œå°±éœ€è¦ç”¨useLayoutEffectäº†ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°é—ªå±é—®é¢˜ã€‚useLayoutEffecté‡Œçš„callbackå‡½æ•°ä¼šåœ¨DOMæ›´æ–°å®Œæˆåç«‹å³æ‰§è¡Œï¼Œå¹¶ä¸”ä¼šåœ¨æµè§ˆå™¨è¿›è¡Œä»»ä½•ç»˜åˆ¶ä¹‹å‰è¿è¡Œå®Œæˆï¼Œå¦åˆ™å°±ä¼šé˜»å¡æµè§ˆå™¨çš„ç»˜åˆ¶ã€‚

>> ï¿¼

>> å¯¹äºuseReducerçš„ä½¿ç”¨æœ‰å¦‚ä¸‹äº‹é¡¹éœ€è¦æé†’å¤§å®¶ç‰¹åˆ«æ³¨æ„ã€‚â–¡useReducerä¸useStateçš„ä½œç”¨ç±»ä¼¼ï¼Œéƒ½ç”¨äºå£°æ˜å’Œç®¡ç†çŠ¶æ€ã€‚åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œä¾‹å¦‚çŠ¶æ€é€»è¾‘è¾ƒå¤æ‚ä¸”åŒ…å«å¤šä¸ªå­å€¼ï¼Œæˆ–è€…ä¸‹ä¸€ä¸ªçŠ¶æ€ä¾èµ–äºä¹‹å‰çš„çŠ¶æ€æ—¶ï¼ŒuseReducerä¼šæ¯”useStateæ›´é€‚ç”¨ã€‚ä½¿ç”¨useReducerè¿˜èƒ½ç»™é‚£äº›ä¼šè§¦å‘æ›´æ–°çš„ç»„ä»¶åšæ€§èƒ½ä¼˜åŒ–ï¼Œå› ä¸ºå¯ä»¥å‘å­ç»„ä»¶ä¼ é€’dispatchè€Œä¸æ˜¯å›è°ƒå‡½æ•°ã€‚â–¡å¦‚æœstateçš„ç±»å‹ä¸ºNumberã€Stringã€Booleanï¼Œå»ºè®®ä½¿ç”¨useStateï¼›å¦‚æœstateçš„ç±»å‹ä¸ºObjectæˆ–Arrayï¼Œåˆ™å»ºè®®ä½¿ç”¨useReducerã€‚â–¡å¦‚æœstateå˜åŒ–éå¸¸å¤šï¼Œåˆ™å»ºè®®ä½¿ç”¨useReducerï¼Œå› ä¸ºè¿™æ ·å¯ä»¥é›†ä¸­ç®¡ç†stateå˜åŒ–ä¸”ä¾¿äºç»´æŠ¤ã€‚â–¡å¦‚æœstateå…³è”å˜åŒ–ï¼Œåˆ™å»ºè®®ä½¿ç”¨useReducerã€‚â–¡å¦‚æœä¸šåŠ¡é€»è¾‘å¾ˆå¤æ‚ï¼Œåˆ™å»ºè®®ä½¿ç”¨useReducerã€‚â–¡å¦‚æœstateåªæƒ³ç”¨åœ¨ç»„ä»¶å†…éƒ¨ï¼Œåˆ™å»ºè®®ä½¿ç”¨useStateï¼›å¦‚æœæƒ³ç»´æŠ¤å…¨å±€stateï¼Œåˆ™å»ºè®®ä½¿ç”¨useReducerã€‚

>> Reactç”±äºè™šæ‹ŸDOMçš„å…³ç³»ï¼Œå½“çˆ¶ç»„ä»¶ï¼ˆå‡½æ•°ï¼‰é‡æ–°è°ƒç”¨çš„æ—¶å€™ï¼Œå­ç»„ä»¶å°±ä¼šè¢«é‡æ–°è°ƒç”¨ã€‚è¿™æ ·å°±å¤šå‡ºäº†æ— æ„ä¹‰çš„æ€§èƒ½å¼€é”€ï¼Œå®é™…ä¸ŠçŠ¶æ€æ²¡æœ‰å˜åŒ–çš„å­ç»„ä»¶ï¼Œæ˜¯ä¸éœ€è¦é‡æ–°æ¸²æŸ“çš„

>> åœ¨å®é™…å·¥ä½œä¸­ä½¿ç”¨useMemoæ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ã€‚â–¡useMemoåº”è¯¥ç”¨äºç¼“å­˜å‡½æ•°ç»„ä»¶ä¸­è®¡ç®—èµ„æºæ¶ˆè€—è¾ƒå¤§çš„åœºæ™¯ï¼Œå› ä¸ºuseMemoæœ¬èº«å°±å ç”¨ä¸€å®šçš„ç¼“å­˜ï¼Œåœ¨éå¿…è¦çš„åœºæ™¯ä¸‹ä½¿ç”¨åè€Œä¸åˆ©äºæ€§èƒ½çš„ä¼˜åŒ–ã€‚â–¡åœ¨å¤„ç†é‡å¾ˆå°çš„æƒ…å†µä¸‹ä½¿ç”¨useMemoï¼Œå¯èƒ½ä¼šæœ‰é¢å¤–çš„ä½¿ç”¨å¼€é”€

>> åªè¦æ˜¯ç»„ä»¶å†…éƒ¨çŠ¶æ€çš„æ”¹å˜ï¼Œéƒ½ä¼šè§¦å‘React Hooksç»„ä»¶çš„é‡æ–°æ¸²æŸ“

>> ä¸¤è€…åœ¨è¯­æ³•æ–¹é¢çš„ç›¸åŒç‚¹å¦‚ä¸‹ã€‚â–¡useCallbackå’ŒuseMemoçš„å‚æ•°ç›¸åŒï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¾èµ–é¡¹çš„æ•°ç»„ã€‚â–¡useMemoã€useCallbackéƒ½æ˜¯ä½¿ç”¨çš„å‚æ•°ï¼ˆå‡½æ•°ï¼‰ï¼Œä¸”éƒ½ä¸ä¼šå› ä¸ºå…¶ä»–ä¸ç›¸å…³çš„å‚æ•°å˜åŒ–è€Œé‡æ–°æ¸²æŸ“ã€‚â–¡ä¸useMemoä¸­çš„useEffectç±»ä¼¼ï¼Œ[]å†…å¯ä»¥æ”¾å…¥æ”¹å˜æ•°å€¼å°±é‡æ–°æ¸²æŸ“å‚æ•°ï¼ˆå‡½æ•°ï¼‰çš„å¯¹è±¡ã€‚å¦‚æœ[]ä¸ºç©ºå°±åªæ¸²æŸ“ä¸€æ¬¡ï¼Œä¹‹åéƒ½ä¸ä¼šæ¸²æŸ“ã€‚ä¸¤è€…çš„ä¸»è¦åŒºåˆ«ï¼šReact.useMemoä¼šè°ƒç”¨fnå‡½æ•°å¹¶è¿”å›å…¶ç»“æœï¼Œè€ŒReact.useCallbackä»…è¿”å›fnå‡½æ•°è€Œä¸è°ƒç”¨å®ƒ

>> æ³¨æ„äº‹é¡¹äºŒï¼šuseCallbackéœ€è¦é…åˆReact.memoä½¿ç”¨ã€‚è¿™æ˜¯å› ä¸ºReact.memoè¿™ä¸ªæ–¹æ³•ä¼šå¯¹propsåšä¸€ä¸ªæµ…å±‚æ¯”è¾ƒï¼Œå¦‚æœpropsæ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œåˆ™ä¸ä¼šé‡æ–°æ¸²æŸ“æ­¤ç»„ä»¶

â—†  ç¬¬4ç«  React ReduxåŸç†è§£è¯»ä¸å®è·µ

>> Reduxçš„åŠŸèƒ½å¾ˆç®€å•ï¼Œä¸»è¦æ˜¯3ä¸ªåŠŸèƒ½ï¼š
â–¡è·å–å½“å‰çŠ¶æ€ï¼›
â–¡æ›´æ–°çŠ¶æ€ï¼›
â–¡ç›‘å¬çŠ¶æ€å˜åŒ–ã€‚

>> ä½¿ç”¨Reduxçš„ä¸‰å¤§åŸåˆ™å¦‚ä¸‹ã€‚
â–¡å•ä¸€æ•°æ®æºçš„æ‰€æœ‰åº”ç”¨çš„çŠ¶æ€è¢«ç»Ÿä¸€ç®¡ç†åœ¨å”¯ä¸€çš„storeå¯¹è±¡æ•°æ®ä¸­ã€‚
â–¡çŠ¶æ€æ˜¯åªè¯»çš„ï¼ŒçŠ¶æ€çš„å˜åŒ–åªèƒ½é€šè¿‡è§¦å‘actionæ”¹å˜ã€‚
â–¡ä½¿ç”¨çº¯å‡½æ•°æ¥æ‰§è¡Œä¿®æ”¹ï¼Œä½¿ç”¨çº¯å‡½æ•°æ¥æè¿°actionï¼Œè¿™é‡Œçš„çº¯å‡½æ•°è¢«ç§°ä¸ºreducerã€‚

>> redux-loggeræ˜¯ä¸€ä¸ªReact Reduxæ“ä½œæ—¥å¿—è®°å½•å·¥å…·ï¼Œä¼šåœ¨dispatchæ”¹å˜ä»“åº“çŠ¶æ€çš„æ—¶å€™æ‰“å°å‡ºæ—§çš„ä»“åº“çŠ¶æ€ã€å½“å‰è§¦å‘çš„è¡Œä¸ºåŠæ–°çš„ä»“åº“çŠ¶æ€

>> redux-persistæ”¯æŒä½¿ç”¨localStorageã€sessionstorageã€cookieæ¥å®Œæˆæ•°æ®æŒä¹…åŒ–æ“ä½œ

â—†  ç¬¬5ç«  React Hookså¸¸è§é—®é¢˜è§£æ

>> ä¸šåŠ¡ä¸­å¤ç”¨è¯¥ç»„ä»¶çš„æ—¶å€™ï¼Œå¾€å¾€ä¼šé‡åˆ°å„ç§é—®é¢˜ï¼Œæ¯”å¦‚ï¼š
â–¡ç»„ä»¶ç°æœ‰çš„åŠŸèƒ½ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼›
â–¡ä¸ºäº†æ»¡è¶³å¤šä¸ªä¸šåŠ¡çš„å¤ç”¨éœ€æ±‚ï¼Œä¸å¾—ä¸æŠŠç»„ä»¶ä¿®æ”¹åˆ°å¾ˆåˆ«æ‰­çš„ç¨‹åº¦ï¼›
â–¡å‚æ•°å¤±æ§ï¼›
â–¡ç‰ˆæœ¬æ— æ³•ç®¡ç†ã€‚

>> åœ¨Reactä¸­ï¼Œæ¯ä¸ªçŠ¶æ€æ›´æ”¹éƒ½ä¼šå¼ºåˆ¶å¯¹è¯¥ç»„ä»¶åŠå…¶å­ç»„ä»¶è¿›è¡Œé‡æ–°æ¸²æŸ“

>> åœ¨React Hooksä¸­ï¼Œæ€§èƒ½é—®é¢˜ä¸»è¦ä½“ç°åœ¨å¯¹ç»„ä»¶é‡å¤æ¸²æŸ“çš„å¤„ç†ã€ç»„ä»¶æ¸²æŸ“æ—¶æœºçš„æŠŠæ§ç­‰æ–¹é¢

>> å¦‚æœå‡½æ•°ä¸ç»„ä»¶å†…çš„stateå’Œpropsæ— ç›¸å…³æ€§ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ç»„ä»¶å¤–éƒ¨å£°æ˜è¯¥å‡½æ•°ï¼Œè¿™æ ·å¯ä»¥é¿å…åœ¨æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½é‡æ–°å£°æ˜è¯¥æ— å…³å‡½æ•°ï¼Œä»è€Œæé«˜ç»„ä»¶çš„æ€§èƒ½ã€‚

â—†  ç¬¬6ç«  å¸¸è§çš„ä¼ä¸šçº§Hooksè§£è¯»

>> React Useæ˜¯ä¸€ä¸ªåœ¨GitHubä¸Šæ‹¥æœ‰å°†è¿‘4ä¸‡é¢—æ˜Ÿçš„Hookså·¥å…·åŒ…ï¼Œæ˜¯ä¸€ä¸ªå¿…ä¸å¯å°‘çš„React Hooksé›†åˆã€‚å®ƒçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼ŒåŒ…å«ä¼ æ„Ÿå™¨ã€UIã€åŠ¨ç”»ã€å‰¯ä½œç”¨ã€ç”Ÿå‘½å‘¨æœŸã€çŠ¶æ€å…­å¤§ç±»Hooksï¼Œå‡ ä¹æ¶µç›–äº†æ‰€æœ‰çš„å‰ç«¯ä¸šåŠ¡éœ€æ±‚ã€‚React Useä¹Ÿæ˜¯å¸‚é¢ä¸Šæœ€æˆç†Ÿçš„Hooksåº“ä¹‹ä¸€ã€‚

â—†  ç¬¬7ç«  ä¼ä¸šçº§React Hooksé¡¹ç›®æ¶æ„ä¸å®æˆ˜

>> SVGå…·æœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼šâ–¡å’Œä¼ ç»Ÿçš„å›¾åƒæ¯”èµ·æ¥ï¼Œå°ºå¯¸æ›´å°ï¼Œä¸”å¯å‹ç¼©æ€§æ›´å¥½ï¼›â–¡SVGä¸­çš„å›¾åƒæ˜¯å¯ä»¥ç¼–è¾‘çš„ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹å…¶é¢œè‰²ç­‰å±æ€§ï¼›â–¡SVGä¸ä¼šå¤±å¸§ï¼Œè¿™ä¿è¯äº†å›¾æ ‡å…·æœ‰é«˜æ¸…æ™°åº¦å’ŒUIé«˜ä¿çœŸåº¦ã€‚

>> å½“å‰ä¸»æµçš„éƒ¨ç½²æ–¹æ¡ˆå¦‚ä¸‹ï¼šâ–¡GitLab+Jenkins+Nginxï¼›â–¡GitLab+Jenkins+Docker+Kubernetes+Nginxï¼›â–¡GitLab+Walle+Nginxï¼›â–¡å®å¡”+Nginxï¼›â–¡Xshellæ‰‹åŠ¨éƒ¨ç½²+Nginxï¼›â–¡é˜¿é‡Œäº‘éƒ¨ç½²ï¼›â–¡è…¾è®¯äº‘éƒ¨ç½²ã€‚
