---
title: 8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)
date: 2023-01-14 20:03:06
tag:
 - ç®—æ³•
categories:
 - å‰ç«¯è¿›å‡»
---
# 8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)
## è§£é¢˜è¿‡ç¨‹
:::info
[é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/string-to-integer-atoi/)
è¯·ä½ æ¥å®ç°ä¸€ä¸ªÂ myAtoi(string s)Â å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C/C++ ä¸­çš„ atoi å‡½æ•°ï¼‰ã€‚
å‡½æ•°Â myAtoi(string s) çš„ç®—æ³•å¦‚ä¸‹ï¼š
è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼
æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚
è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚
å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œ"123" -> 123ï¼Œ "0032" -> 32ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º 0 ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰ã€‚
å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ [âˆ’231,Â  231Â âˆ’ 1] ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº âˆ’231 çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º âˆ’231 ï¼Œå¤§äº 231Â âˆ’ 1 çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º 231Â âˆ’ 1 ã€‚
è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚
æ³¨æ„ï¼š
æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦ ' ' ã€‚
é™¤å‰å¯¼ç©ºæ ¼æˆ–æ•°å­—åçš„å…¶ä½™å­—ç¬¦ä¸²å¤–ï¼Œè¯·å‹¿å¿½ç•¥ ä»»ä½•å…¶ä»–å­—ç¬¦
:::
```javascript
/**
 * @link https://leetcode.cn/problems/string-to-integer-atoi/
 * @title 8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)
 * @description è¯·ä½ æ¥å®ç°ä¸€ä¸ªÂ myAtoi(string s)Â å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C/C++ ä¸­çš„ atoi å‡½æ•°ï¼‰ã€‚

å‡½æ•°Â myAtoi(string s) çš„ç®—æ³•å¦‚ä¸‹ï¼š

è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼
æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚
è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚
å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œ"123" -> 123ï¼Œ "0032" -> 32ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º 0 ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰ã€‚
å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ [âˆ’231,Â  231Â âˆ’ 1] ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº âˆ’231 çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º âˆ’231 ï¼Œå¤§äº 231Â âˆ’ 1 çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º 231Â âˆ’ 1 ã€‚
è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚
æ³¨æ„ï¼š

æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦ ' ' ã€‚
é™¤å‰å¯¼ç©ºæ ¼æˆ–æ•°å­—åçš„å…¶ä½™å­—ç¬¦ä¸²å¤–ï¼Œè¯·å‹¿å¿½ç•¥ ä»»ä½•å…¶ä»–å­—ç¬¦
 * @param {string} s
 * @return {number}
 */
// è§£æ³•ä¸€
// æ€è·¯ï¼šç›´æ¥ç”¨ JS å†…ç½®å·¥å…· parseInt æå®šï¼Œç›¸å¯¹æ¥è¯´å°±å¾ˆç®€å•äº†ï¼Œæ‰§è¡Œæ•ˆæœä¹Ÿä¸é”™
var myAtoi = function (s) {
  const num = parseInt(s) || 0
  const max = Math.pow(2, 31) - 1
  const min = Math.pow(-2, 31)

  if (num < min) {
    return min
  }

  if (num > max) {
    return max
  }

  return num
};

// è§£æ³•äºŒ
// æ€è·¯ï¼šä¼˜åŒ–è§£æ³•ä¸€ä»£ç ğŸ‘†ğŸ»ï¼šä½¿ç”¨æ¯”è¾ƒæœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œç„¶åä¸€è¡Œä»£ç æå®š
var myAtoi = function (s) {
  return Math.min(Math.max(parseInt(s) || 0, Math.pow(-2, 31)), Math.pow(2, 31) - 1)
}

// è§£æ³•ä¸‰
// æ€è·¯ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è§£å†³ï¼Œé€šè¿‡æ­£åˆ™åŒ¹é…å¯¹åº”çš„å­—ç¬¦æ•°å­—ï¼Œç„¶ååœ¨æ¯”è¾ƒå¤§å°
var myAtoi = function (s) {
  const num = s.trim().match(/^[+-]?\d+/g) || [0]
  return Math.min(Math.max(num[0], Math.pow(-2, 31)), Math.pow(2, 31) - 1)
}

// const result = myAtoi('42') // 42
const result = myAtoi('   -42') // -42
// const result = myAtoi('4193 with words') // 4193
// const result = myAtoi('words and 987') // 0
console.log(result)
```
## è§£é¢˜æ„Ÿå—
ä¸€åˆ†é’Ÿè§£æ³•ä¸€ï¼Œæä¸æ‡‚é¢˜ç›®éš¾åº¦ä¸ºå•¥ä¸­ç­‰ï¼Œæœ€åçœ‹äº†å®˜æ–¹é¢˜è§£ï¼Œç¡®å®æœ‰ç‚¹å¤æ‚ï¼Œæ¯•ç«Ÿè·Ÿå‰ç«¯çš„æ€ç»´å·®åˆ«å¾ˆå¤§äº†ã€‚å°è¯•ç”¨äº†å…¶ä»–è§£æ³•ï¼Œå†…ç½®å·¥å…· API åŠæ­£åˆ™è¡¨è¾¾éƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œå¾ˆå¸¸ç”¨
## ä¼˜è´¨é¢˜è§£

- [https://leetcode.cn/problems/string-to-integer-atoi/solution/zi-fu-chuan-zhuan-huan-zheng-shu-atoi-by-leetcode-/](https://leetcode.cn/problems/string-to-integer-atoi/solution/zi-fu-chuan-zhuan-huan-zheng-shu-atoi-by-leetcode-/)
- [https://leetcode.cn/problems/string-to-integer-atoi/solution/python-1xing-zheng-ze-biao-da-shi-by-knifezhu/](https://leetcode.cn/problems/string-to-integer-atoi/solution/python-1xing-zheng-ze-biao-da-shi-by-knifezhu/)
- [https://leetcode.cn/problems/string-to-integer-atoi/solution/javascriptzi-dong-ji-guan-fang-ti-jie-de-xiang-xi-/](https://leetcode.cn/problems/string-to-integer-atoi/solution/javascriptzi-dong-ji-guan-fang-ti-jie-de-xiang-xi-/)
- [https://leetcode.cn/problems/string-to-integer-atoi/solution/dai-ma-zhu-shi-xiang-xi-si-lu-qing-xi-bi-c0a3/](https://leetcode.cn/problems/string-to-integer-atoi/solution/dai-ma-zhu-shi-xiang-xi-si-lu-qing-xi-bi-c0a3/)
